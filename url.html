<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Video Collector</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.16.0/babel.min.js"></script> <!-- Para usar JSX directamente en el navegador -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css">
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState } = React;

    const VideoCollector = () => {
      const [videos, setVideos] = useState({
        latino: [],
        espanol: [],
        subtitulado: []
      });
      
      const [currentVideo, setCurrentVideo] = useState(null);
      const [newLink, setNewLink] = useState('');
      const [newTitle, setNewTitle] = useState('');
      const [selectedLanguage, setSelectedLanguage] = useState('');

      const addVideo = (language) => {
        if (newLink && newTitle) {
          setVideos(prev => ({
            ...prev,
            [language]: [...prev[language], { title: newTitle, url: newLink }]
          }));
          setNewLink('');
          setNewTitle('');
          setSelectedLanguage('');
        }
      };

      const generateCollectorLink = () => {
        const data = encodeURIComponent(JSON.stringify(videos));
        return `https://tudominio.com/collector?data=${data}`;
      };

      return (
        <div className="max-w-6xl mx-auto p-4 space-y-6">
          <div className="p-4">
            <h2 className="text-2xl font-bold mb-4">Agregar Nuevo Enlace</h2>
            <div className="space-y-4">
              <input 
                type="text" 
                placeholder="Título del video" 
                value={newTitle}
                onChange={(e) => setNewTitle(e.target.value)} 
                className="mb-2 p-2 border rounded"
              />
              <input 
                type="text" 
                placeholder="URL del video" 
                value={newLink}
                onChange={(e) => setNewLink(e.target.value)} 
                className="mb-2 p-2 border rounded"
              />
              <select 
                value={selectedLanguage}
                onChange={(e) => setSelectedLanguage(e.target.value)} 
                className="w-full p-2 border rounded-md mb-2"
              >
                <option value="">Seleccionar idioma</option>
                <option value="latino">Latino</option>
                <option value="espanol">Español</option>
                <option value="subtitulado">Subtitulado</option>
              </select>
              <button 
                onClick={() => addVideo(selectedLanguage)}
                disabled={!newLink || !newTitle || !selectedLanguage}
                className="w-full p-2 bg-blue-500 text-white rounded"
              >
                + Agregar Video
              </button>
            </div>
          </div>

          <div className="p-4">
            <button
              onClick={() => {
                const link = generateCollectorLink();
                navigator.clipboard.writeText(link);
                alert('Enlace copiado al portapapeles!');
              }}
              className="w-full p-2 bg-green-500 text-white rounded"
            >
              Generar Enlace del Recolector
            </button>
          </div>
        </div>
      );
    };

    // Renderizar el componente VideoCollector
    ReactDOM.render(<VideoCollector />, document.getElementById('root'));
  </script>
</body>
</html>
